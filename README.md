# üß™ Test Automation Framework - Automation Exercise

> Framework de automa√ß√£o de testes para o site [Automation Exercise](https://automationexercise.com) utilizando WebdriverIO

[![Node.js](https://img.shields.io/badge/Node.js-18.x%20%7C%2020.x-green.svg)](https://nodejs.org/)
[![WebdriverIO](https://img.shields.io/badge/WebdriverIO-8.24.3-blue.svg)](https://webdriver.io/)
[![Mocha](https://img.shields.io/badge/Mocha-Test%20Framework-yellow.svg)](https://mochajs.org/)
[![GitHub Actions](https://img.shields.io/badge/GitHub%20Actions-CI%2FCD-orange.svg)](https://github.com/features/actions)

---

## üìã √çndice

- [üìã √çndice](#-√≠ndice)
- [üéØ Sobre o Projeto](#-sobre-o-projeto)
- [üõ†Ô∏è Tecnologias](#Ô∏è-tecnologias)
- [üìÅ Estrutura do Projeto](#-estrutura-do-projeto)
- [üöÄ Instala√ß√£o](#-instala√ß√£o)
- [‚öôÔ∏è Configura√ß√£o](#Ô∏è-configura√ß√£o)
- [üß™ Execu√ß√£o dos Testes](#-execu√ß√£o-dos-testes)
- [üìä Relat√≥rios](#-relat√≥rios)
- [üîß Desenvolvimento](#-desenvolvimento)
- [ü§ù Como Contribuir](#-como-contribuir)
- [üìù Casos de Teste](#-casos-de-teste)
- [‚ùì FAQ](#-faq)

---

## üéØ Sobre o Projeto

Este projeto implementa testes automatizados para o site Automation Exercise, cobrindo funcionalidades cr√≠ticas como:

- ‚úÖ **Registro e exclus√£o de usu√°rios**
- ‚úÖ **Busca de produtos**
- ‚úÖ **Gerenciamento de carrinho de compras**
- ‚úÖ **Valida√ß√£o de quantidades**

O framework utiliza **Page Object Model (POM)** para manter o c√≥digo organizado e reutiliz√°vel.

---

## üõ†Ô∏è Tecnologias

### **Core Framework**
- **[WebdriverIO](https://webdriver.io/)** - Framework de automa√ß√£o web
- **[Node.js](https://nodejs.org/)** - Runtime JavaScript (18.x ou 20.x)
- **[Mocha](https://mochajs.org/)** - Framework de testes
- **[Chai](https://www.chaijs.com/)** - Biblioteca de assertivas

### **Browser & Drivers**
- **[ChromeDriver](https://chromedriver.chromium.org/)** - Driver do Chrome
- **[Chrome](https://www.google.com/chrome/)** - Navegador para execu√ß√£o

### **Relat√≥rios**
- **[Allure Reports](https://docs.qameta.io/allure/)** - Relat√≥rios detalhados
- **[HTML Nice Reporter](https://www.npmjs.com/package/wdio-html-nice-reporter)** - Relat√≥rios HTML

### **CI/CD**
- **[GitHub Actions](https://github.com/features/actions)** - Pipeline de automa√ß√£o
- **[Ubuntu Latest](https://ubuntu.com/)** - Ambiente de execu√ß√£o

---

## üìÅ Estrutura do Projeto

```
qa.automationexercise-web.webdriverio/
‚îú‚îÄ‚îÄ üìÅ .github/
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ test-automation.yml      # Pipeline principal
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ manual-tests.yml         # Execu√ß√£o manual
‚îú‚îÄ‚îÄ üìÅ test/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ specs/                       # Arquivos de teste
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ createAndDeleteUser.spec.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ searchProduct.spec.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ addProducts.spec.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ removeProducts.spec.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ quantityInCart.spec.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pageobjects/                 # Objetos de p√°gina (POM)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.js                  # Classe base
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ baseUrl.js               # Configura√ß√£o de URL
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ simpleActions.js         # A√ß√µes simples
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ inputForms.js            # Formul√°rios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ clickable.js             # Elementos clic√°veis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ alertMessages.js         # Mensagens de alerta
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ genericData.js           # Dados gen√©ricos
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/                       # Utilit√°rios
‚îú‚îÄ‚îÄ üìÅ reports/                         # Relat√≥rios gerados
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ html/
‚îú‚îÄ‚îÄ üìÑ wdio.conf.js                     # Configura√ß√£o WebdriverIO
‚îú‚îÄ‚îÄ üìÑ package.json                     # Depend√™ncias e scripts
‚îú‚îÄ‚îÄ üìÑ .gitignore                       # Arquivos ignorados
‚îî‚îÄ‚îÄ üìÑ README.md                        # Documenta√ß√£o
```

---

## üöÄ Instala√ß√£o

### **Pr√©-requisitos**

- **Node.js** (vers√£o 18.x ou 20.x)
- **npm** ou **yarn**
- **Git**

### **Passo a Passo**

1. **Clone o reposit√≥rio**
   ```bash
   git clone https://github.com/seu-usuario/qa.automationexercise-web.webdriverio.git
   cd qa.automationexercise-web.webdriverio
   ```

2. **Instale as depend√™ncias**
   ```bash
   npm install
   ```

3. **Verifique a instala√ß√£o**
   ```bash
   npm run test:headless
   ```

### **Solu√ß√£o de Problemas**

#### **Erro: "chromedriver not found"**
```bash
npm install chromedriver --save-dev
```

#### **Erro: "Chrome not installed"**
- **Windows:** Baixe e instale o [Google Chrome](https://www.google.com/chrome/)
- **macOS:** `brew install --cask google-chrome`
- **Linux:** `sudo apt-get install google-chrome-stable`

#### **Erro: "Permission denied"**
```bash
# Windows (PowerShell como Administrador)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# Linux/macOS
chmod +x node_modules/.bin/wdio
```

---

## ‚öôÔ∏è Configura√ß√£o

### **Configura√ß√µes Principais**

- **URL Base:** `https://automationexercise.com`
- **Navegador:** Chrome
- **Timeout:** 60 segundos por teste
- **Modo Headless:** Dispon√≠vel para CI/CD

### **Vari√°veis de Ambiente**

```bash
# .env (opcional)
BASE_URL=https://automationexercise.com
BROWSER=chrome
HEADLESS=true
TIMEOUT=60000
```

---

## üß™ Execu√ß√£o dos Testes

### **Comandos Principais**

| Comando | Descri√ß√£o | Uso |
|---------|-----------|-----|
| `npm test` | Executa todos os testes | Desenvolvimento local |
| `npm run test:headless` | Executa em modo headless | CI/CD |
| `npm run test:ci` | Execu√ß√£o otimizada para CI | Pipeline |

### **Execu√ß√£o de Testes Espec√≠ficos**

```bash
# Teste de registro de usu√°rio
npm run test:create-and-delete-user

# Teste de busca de produtos
npm run test:search-product

# Teste de adicionar produtos
npm run test:add-products

# Teste de remover produtos
npm run test:remove-products

# Teste de quantidade no carrinho
npm run test:cart-quantity
```

### **Execu√ß√£o com Par√¢metros**

```bash
# Executar com navegador vis√≠vel
npx wdio run wdio.conf.js

# Executar com modo headless
npx wdio run wdio.conf.js --headless

# Executar teste espec√≠fico
npx wdio run wdio.conf.js --spec test/specs/searchProduct.spec.js

# Executar com reporter espec√≠fico
npx wdio run wdio.conf.js --reporter spec
```

---

## üìä Relat√≥rios

### **Relat√≥rio HTML**

```bash
# Gerar relat√≥rio
npm run test:headless

# Abrir relat√≥rio
npm run report
```

**Localiza√ß√£o:** `reports/html/report.html`

### **Relat√≥rio Allure**

```bash
# Gerar relat√≥rio
npm run allure:generate

# Abrir relat√≥rio
npm run allure:open

# Servir relat√≥rio (recomendado)
npm run allure:serve
```

**Localiza√ß√£o:** `allure-report/`

### **Relat√≥rios no GitHub Actions**

Ap√≥s cada execu√ß√£o do pipeline, os relat√≥rios ficam dispon√≠veis em:
- **Actions** ‚Üí **Workflow runs** ‚Üí **Artifacts**

#### **Visualizando Relat√≥rios Baixados**

Se voc√™ baixou um relat√≥rio do GitHub Actions e n√£o consegue visualiz√°-lo corretamente (tela de "Loading..." ou erro), siga estes passos:

1. **Navegue at√© a pasta do download**
   ```bash
   cd Downloads/manual-test-allure-report-all
   ```

2. **Inicie um servidor HTTP local**
   ```bash
   npx http-server -p 8080
   ```

3. **Confirme a instala√ß√£o** (se solicitado)
   ```bash
   y
   ```

4. **Acesse no navegador**
   ```
   http://localhost:8080
   ```

**Por que isso √© necess√°rio?** Os relat√≥rios Allure precisam ser servidos via HTTP devido √†s restri√ß√µes de seguran√ßa do navegador que impedem JavaScript de carregar recursos locais.

---

## üîß Desenvolvimento

### **Padr√£o Triple A (AAA)**

Todos os testes seguem o padr√£o **Triple A** para garantir clareza e organiza√ß√£o:

#### **üìã Estrutura Triple A**

```javascript
describe('Nome do Teste', () => {
    it('Descri√ß√£o do caso de teste', async () => {
        // ===== ARRANGE (Prepara√ß√£o) =====
        // Configurar dados, vari√°veis e estado inicial
        const baseUrl = new BaseUrl();
        const testData = 'valor_teste';
        
        // ===== ACT (Execu√ß√£o) =====
        // Executar as a√ß√µes que est√£o sendo testadas
        await baseUrl.open();
        await simpleActions.performAction(testData);
        
        // ===== ASSERT (Valida√ß√£o) =====
        // Verificar se o resultado √© o esperado
        const result = await simpleActions.getResult();
        expect(result).to.be.true;
    });
});
```

#### **üéØ Benef√≠cios do Triple A**

- **‚úÖ Clareza:** Cada se√ß√£o tem um prop√≥sito espec√≠fico
- **‚úÖ Manutenibilidade:** F√°cil de entender e modificar
- **‚úÖ Debugging:** Identifica√ß√£o r√°pida de problemas
- **‚úÖ Padroniza√ß√£o:** Estrutura consistente em todos os testes

### **Adicionando Novos Testes**

1. **Crie o arquivo de teste**
   ```bash
   touch test/specs/novoTeste.spec.js
   ```

2. **Implemente o teste seguindo Triple A**
   ```javascript
   import { expect } from 'chai';
   import SimpleActions from '../pageobjects/simpleActions.js';

   describe('Novo Teste', () => {
       it('deve executar nova funcionalidade', async () => {
           // ===== ARRANGE (Prepara√ß√£o) =====
           const simpleActions = new SimpleActions();
           
           // ===== ACT (Execu√ß√£o) =====
           const result = await simpleActions.performAction();
           
           // ===== ASSERT (Valida√ß√£o) =====
           expect(result).to.be.true;
       });
   });
   ```

3. **Adicione o script no package.json**
   ```json
   {
     "scripts": {
       "test:novo-teste": "wdio run wdio.conf.js --spec test/specs/novoTeste.spec.js"
     }
   }
   ```

### **Page Object Model (POM)**

```javascript
// Exemplo de Page Object
import Page from './page.js';

class LoginPage extends Page {
    get usernameInput() {
        return $('#username');
    }
    
    get passwordInput() {
        return $('#password');
    }
    
    get loginButton() {
        return $('#login');
    }
    
    async login(username, password) {
        await this.usernameInput.setValue(username);
        await this.passwordInput.setValue(password);
        await this.loginButton.click();
    }
}

export default new LoginPage();
```

---

## üìù Casos de Teste

### **Implementados**

| ID | Nome | Status | Descri√ß√£o |
|----|------|--------|-----------|
| TC-01 | Registro e Exclus√£o de Usu√°rio | ‚úÖ | Fluxo completo de cadastro e exclus√£o |
| TC-09 | Busca de Produtos | ‚úÖ | Busca e valida√ß√£o de resultados |

### **Em Desenvolvimento**

| ID | Nome | Status | Descri√ß√£o |
|----|------|--------|-----------|
| TC-12 | Adicionar Produtos ao Carrinho | üöß | Estrutura b√°sica criada |
| TC-13 | Verificar Quantidade no Carrinho | üöß | Estrutura b√°sica criada |
| TC-17 | Remover Produtos do Carrinho | üöß | Estrutura b√°sica criada |

---

## ‚ùì FAQ

### **P: Como executar testes em paralelo?**
R: Configure `maxInstances` no `wdio.conf.js`:
```javascript
maxInstances: 5, // 5 testes simult√¢neos
```

### **P: Como adicionar novos navegadores?**
R: Adicione capabilities no `wdio.conf.js`:
```javascript
capabilities: [{
    browserName: 'firefox',
    // configura√ß√µes do Firefox
}]
```

### **P: Como debugar testes?**
R: Use o modo n√£o-headless e adicione `browser.pause()`:
```javascript
it('teste com debug', async () => {
    await browser.pause(5000); // pausa de 5 segundos
});
```

### **P: Como visualizar relat√≥rios baixados do GitHub Actions?**
R: Se o relat√≥rio n√£o carrega (tela de "Loading..."), use um servidor HTTP:
```bash
cd Downloads/manual-test-allure-report-all
npx http-server -p 8080
# Acesse: http://localhost:8080
```

### **P: O que √© o padr√£o Triple A?**
R: √â uma estrutura de organiza√ß√£o de testes com tr√™s se√ß√µes:
- **Arrange:** Prepara√ß√£o de dados e configura√ß√µes
- **Act:** Execu√ß√£o das a√ß√µes sendo testadas
- **Assert:** Valida√ß√£o dos resultados esperados

Veja exemplos na se√ß√£o [Desenvolvimento](#-desenvolvimento).

üìñ [Documenta√ß√£o Completa dos Pipelines](GITHUB_ACTIONS_README.md)

---

## üìû Suporte

- **Issues:** [GitHub Issues](https://github.com/seu-usuario/qa.automationexercise-web.webdriverio/issues)
- **Documenta√ß√£o:** [WebdriverIO Docs](https://webdriver.io/docs/)
- **Comunidade:** [WebdriverIO Discord](https://discord.gg/webdriverio)

---

     üèóÔ∏è Padr√µes de Desenvolvimento

**Desenvolvido com ‚ù§Ô∏è**


